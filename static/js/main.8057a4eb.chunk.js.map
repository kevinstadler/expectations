{"version":3,"sources":["Expectations.js","serviceWorker.js","index.js"],"names":["sexOptions","value","label","formatAge","age","Math","round","formatPercent","p","resolution","Expectations","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","componentWillMount","fetch","then","response","ok","json","setCountry","setState","countries","state","country","updateDistribution","stateUpdate","updatedState","objectSpread","ps","tableCache","findIndex","el","sex","slice","meanAtBirth","map","i","reduce","a","b","reverse","maxAge","length","v","totalremainingdensity","mean","impendingDeath","yearsToGo","factlet","react_default","createElement","abs","distribution","description","killedOff","window","location","hash","setAge","event","localStorage","setItem","setSex","headers","get","startsWith","text","console","log","string","split","parseFloat","cacheAddition","locationName","find","hideModal","showModal","toggleContactForm","e","preventDefault","contactFormVisible","getItem","args","substring","parseInt","isNaN","Modal","className","isOpen","Expectations_Skellie","AgeInput","onChange","Button","color","onClick","Expectations_ExpectationsGraph","currentAge","UncontrolledPopover","trigger","placement","target","PopoverHeader","PopoverBody","href","SexInput","Expectations_CountrySelect","id","Popover","Form","Input","type","name","placeholder","disabled","src","alt","title","React","Component","options","Array","apply","Number","react_select_browser_esm","isClearable","CountrySelect","_this2","ExpectationsGraph","_this3","survivedData","x","y","outlived","remaningData","cumulative","cs","next","push","total","deathData","c","meanP","floor","ceil","meanData","labelComponent","victory_tooltip","flyoutComponent","Expectations_LineFlyout","victory_label","style","fontSize","flyoutStyle","fill","deathStyle","data","stroke","strokeWidth","victory_chart","minDomain","containerComponent","victory_voronoi_container","labels","d","ageDesc","concat","victory_axis","axis","dependentAxis","tickLabels","victory_line","victory_area","LineFlyout","_this$props","datum","adjustedHeight","height","width","max","cx","cy","r","Skellie","_this4","changeSkellie","skellie","random","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ReactDOM","render","src_Expectations","document","getElementById","URL","process","origin","addEventListener","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"iYAoBMA,EAAa,CAAE,CAAEC,MAAO,IAAKC,MAAO,UAAY,CAAED,MAAO,IAAKC,MAAO,SAE3E,SAASC,EAAUC,GACjB,OAAOC,KAAKC,MAAM,GAAKF,GAAO,GAGhC,SAASG,EAAcC,GACrB,IAAIC,EAAa,GACjB,OAAID,EAAI,KACC,UACEA,EAAI,MACN,aACEA,EAAI,KAAOA,EAAI,OACxBC,EAAa,KAERJ,KAAKC,MAAM,IAAMG,EAAaD,GAAKC,EAAa,SAoO1CC,cA/Nb,SAAAA,EAAYC,GAAO,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAgCRQ,mBAAqB,WACnBC,MAAM,kBAAkBC,KAAK,SAACC,GAC5B,GAAIA,EAASC,GACX,OAAOD,EAASE,OAGhBZ,EAAKa,WAAW,CAAExB,MAAO,YAE1BoB,KAAK,SAACG,GACPZ,EAAKc,SAAS,CAAEC,UAAWH,IAC3BZ,EAAKa,WAAW,CAAExB,MAAOW,EAAKgB,MAAMC,aA3CrBjB,EA+CnBkB,mBAAqB,SAACC,GACpB,IAAIC,EAAYnB,OAAAoB,EAAA,EAAApB,CAAA,GAAOD,EAAKgB,MAAUG,GAIlCG,EAHcF,EAAaG,WAAWH,EAAaH,SACtC7B,EAAWoC,UAAU,SAACC,GAAD,OAAQA,EAAGpC,QAAU+B,EAAaM,MAAO,GAAK,GAErDC,QAC3BC,EAAcrC,EAAU+B,EAAGO,IAAI,SAACjC,EAAGkC,GAAJ,OAAUlC,EAAIkC,IAAGC,OAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,KAGzEX,EAAGY,UACH,IAAMC,EAASb,EAAGc,OAAS,EAAId,EAAGE,UAAU,SAAAa,GAAC,OAAIA,EAAI,IACrDf,EAAGY,UAEH,IAAII,EAAwBhB,EAAGK,MAAMP,EAAa5B,KAAKuC,OAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,IAE/C,GAAzBK,IAEFlB,EAAa5B,IAAM2C,EACnBG,EAAwBhB,EAAGK,MAAMP,EAAa5B,KAAKuC,OAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,KAI1E,IAAIM,EAAOjB,EAAGK,MAAMP,EAAa5B,KAAKqC,IAAI,SAACjC,EAAGkC,GAAJ,OAAUlC,GAAKwB,EAAa5B,IAAMsC,KAAIC,OAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,IACrGM,GAAcD,EAId,IAFA,IAAIE,EAAiBlB,EAAGF,EAAa5B,KAE5BiD,EAAY,EAAGD,EAAiBF,EAAwB,KAAOG,IACtED,GAAkBlB,EAAGF,EAAa5B,IAAMiD,GAG1CD,GAAkCF,EAClC,IAAII,EAAU,GAEZA,EADgB,IAAdD,EACQE,EAAAX,EAAAY,cAAA,iBAAQD,EAAAX,EAAAY,cAAA,cAASjD,EAAc6C,IAA/B,6BAAkFG,EAAAX,EAAAY,cAAA,sCAAlF,KACDnD,KAAKoD,IAAIL,EAAiB,KAAQ,MACjCG,EAAAX,EAAAY,cAAA,2DAAkDD,EAAAX,EAAAY,cAAA,iCAAyBH,EAAzB,UAAlD,kBAEAE,EAAAX,EAAAY,cAAA,iBAAQD,EAAAX,EAAAY,cAAA,cAASjD,EAAc6C,IAA/B,qDAA2GC,EAA3G,wBAIZrB,EAAYnB,OAAAoB,EAAA,EAAApB,CAAA,GAAOmB,EAAiB,CAClC0B,aAAcxB,EACdiB,KAAMA,EACNX,YAAaA,EACbc,QAASA,EACTP,OAAQA,EACRY,YAPgB,yBAQhBC,UAAW1B,EAAGK,MAAM,EAAGP,EAAa5B,KAAKuC,OAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,GAAG,GAAKX,EAAGS,OAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,MAGhGjC,EAAKc,SAASM,GACd6B,OAAOC,SAASC,KAAO,IAAM/B,EAAa5B,IAAM,KAAO4B,EAAaM,KAAO,IAAM,IAAMN,EAAaH,SApGnFjB,EAuGnBoD,OAAS,SAACC,GACR,IAAI7D,EAAM6D,EAAMhE,MAChBW,EAAKkB,mBAAmB,CAAE1B,IAAOA,IACjC8D,aAAaC,QAAQ,MAAO/D,IA1GXQ,EA6GnBwD,OAAS,SAACH,GACR,IAAM3B,EAAM2B,EAAQA,EAAMhE,MAAQ,GAClCW,EAAKkB,mBAAmB,CAAEQ,IAAOA,IACjC4B,aAAaC,QAAQ,MAAO7B,IAhHX1B,EAmHnBa,WAAa,SAACwC,GACZ,IAAMpC,EAAUoC,EAAQA,EAAMhE,MAAQ,QACjCW,EAAKgB,MAAMO,WAAWN,GAkBzBjB,EAAKkB,mBAAmB,CAAED,QAASA,IAjBnCT,MAAM,QAAUS,EAAU,QAAQR,KAAK,SAACC,GACtC,GAAIA,EAASC,IAAMD,EAAS+C,QAAQC,IAAI,gBAAgBC,WAAW,YACjE,OAAOjD,EAASkD,OAEhBC,QAAQC,IAAI,mBAAqB7C,KAIpCR,KAAK,SAACsD,GACL,GAAIA,EAAQ,CACV,IAAIzC,EAAKyC,EAAOC,MAAM,MAAMnC,IAAI,SAACkC,GAAD,OAAYA,EAAOC,MAAM,KAAKnC,IAAIoC,cAC9DC,EAAgB,GACpBA,EAAcjD,GAAWK,EACzBtB,EAAKkB,mBAAmB,CAAED,QAASA,EAASM,WAAY2C,OAM9D,IAAMC,EAAenE,EAAKgB,MAAMD,UAAUqD,KAAK,SAAC3C,GAAD,OAAQA,EAAGpC,QAAU4B,IACpEjB,EAAKc,SAAS,CAAEqD,aAAcA,EAAeA,EAAa7E,MAAQ,cAClEgE,aAAaC,QAAQ,UAAWtC,IA3IfjB,EA8InBqE,UAAY,WACVrE,EAAKc,SAAS,CAAEwD,WAAW,KA/IVtE,EAkJnBuE,kBAAoB,SAACC,GACT,OAANA,GACFA,EAAEC,iBAEJzE,EAAKc,SAAS,CAAE4D,oBAAsB1E,EAAKgB,MAAM0D,sBAnJjD,IAAIlF,EAAM8D,aAAaqB,QAAQ,OAC3BjD,EAAM4B,aAAaqB,QAAQ,OAC3B1D,EAAUqC,aAAaqB,QAAQ,WAEnC,GAAI1B,OAAOC,SAASC,KAAKf,OAAQ,CAC/B,IAAMwC,EAAO3B,OAAOC,SAASC,KAAK0B,UAAU,GAAGb,MAAM,KACjC,IAAhBY,EAAKxC,SACP5C,EAAMoF,EAAK,GACXlD,EAAMkD,EAAK,GACX3D,EAAU2D,EAAK,IAZF,OAgBjBpF,EAAMsF,SAAStF,GAEfQ,EAAKgB,MAAQ,CACX0D,oBAAoB,EACpBnD,WAAY,GACZ/B,IAAKuF,MAAMvF,GAAO,GAAKA,EACvBkC,IAAKA,GAAO,EACZT,QAASA,GAAW,QACpBqD,UAA2C,IAAhCrB,OAAOC,SAASC,KAAKf,OAEhCG,KAAM,EACNX,YAAa,EACbuC,aAAc,YACdpD,UAAW,IA7BIf,wEA0JjB,OACE2C,EAAAX,EAAAY,cAAA,WACED,EAAAX,EAAAY,cAACoC,EAAA,EAAD,CAAOC,UAAU,oBAAoBC,OAAQ/E,KAAKa,MAAMsD,WACxD3B,EAAAX,EAAAY,cAACuC,EAAD,MAAWxC,EAAAX,EAAAY,cAACuC,EAAD,MAAWxC,EAAAX,EAAAY,cAACuC,EAAD,MAAWxC,EAAAX,EAAAY,cAACuC,EAAD,MAAWxC,EAAAX,EAAAY,cAACuC,EAAD,MAAWxC,EAAAX,EAAAY,cAACuC,EAAD,MACrDxC,EAAAX,EAAAY,cAAA,8BACAD,EAAAX,EAAAY,cAACwC,EAAD,CAAU/F,MAAOc,KAAKa,MAAMxB,IAAK6F,SAAUlF,KAAKiD,SAChDT,EAAAX,EAAAY,cAAA,KAAGqC,UAAU,UAAb,4QACAtC,EAAAX,EAAAY,cAAC0C,EAAA,EAAD,CAAQC,MAAM,YAAYC,QAASrF,KAAKkE,WAAxC,2CAEF1B,EAAAX,EAAAY,cAAA,OAAKqC,UAAU,WACbtC,EAAAX,EAAAY,cAAA,cACED,EAAAX,EAAAY,cAACuC,EAAD,MAAWxC,EAAAX,EAAAY,cAACuC,EAAD,MAAWxC,EAAAX,EAAAY,cAACuC,EAAD,MAAWxC,EAAAX,EAAAY,cAACuC,EAAD,MAAWxC,EAAAX,EAAAY,cAACuC,EAAD,MAAWxC,EAAAX,EAAAY,cAACuC,EAAD,OAEzDxC,EAAAX,EAAAY,cAAA,SACED,EAAAX,EAAAY,cAAA,6BADF,kMAC0NzC,KAAKa,MAAMmD,aADrO,aAC4PxB,EAAAX,EAAAY,cAAA,cAASrD,EAAUY,KAAKa,MAAMY,cAD1R,WAGAe,EAAAX,EAAAY,cAAA,gCACAD,EAAAX,EAAAY,cAAA,4DACmDrD,EAAUY,KAAKa,MAAMY,aADxE,gDACmIzB,KAAKa,MAAMxB,IAD9I,yDACwMmD,EAAAX,EAAAY,cAAA,cAASjD,EAAcQ,KAAKa,MAAMgC,YAD1O,uEAEAL,EAAAX,EAAAY,cAAA,4LAAmLD,EAAAX,EAAAY,cAAA,cAASrD,EAAUY,KAAKa,MAAMuB,OAAjN,4BAEAI,EAAAX,EAAAY,cAAA,iCACAD,EAAAX,EAAAY,cAAA,iXACuWD,EAAAX,EAAAY,cAAA,wBADvW,aAEAD,EAAAX,EAAAY,cAAA,sDAA8CrD,EAAUY,KAAKa,MAAMuB,KAAOpC,KAAKa,MAAMxB,KAArF,sEAA8JW,KAAKa,MAAM0B,SACzKC,EAAAX,EAAAY,cAAA,iQAGAD,EAAAX,EAAAY,cAAC6C,EAAD,CAAmBC,WAAYvF,KAAKa,MAAMxB,IAAKsD,aAAc3C,KAAKa,MAAM8B,aAAcP,KAAMpC,KAAKa,MAAMuB,OACvGI,EAAAX,EAAAY,cAAA,yCAEAD,EAAAX,EAAAY,cAAC+C,EAAA,EAAD,CAAqBC,QAAQ,QAAQC,UAAU,MAAMC,OAAO,cAC1DnD,EAAAX,EAAAY,cAACmD,EAAA,EAAD,uBAGApD,EAAAX,EAAAY,cAACoD,EAAA,EAAD,KACErD,EAAAX,EAAAY,cAAA,wkBACAD,EAAAX,EAAAY,cAAA,4HAAmHD,EAAAX,EAAAY,cAAA,KAAGqD,KAAK,gFAAR,OAAnH,+DAGJtD,EAAAX,EAAAY,cAAA,OAAKqC,UAAU,cACbtC,EAAAX,EAAAY,cAACwC,EAAD,CAAU/F,MAAOc,KAAKa,MAAMxB,IAAK2C,OAAQhC,KAAKa,MAAMmB,OAAQkD,SAAUlF,KAAKiD,SAC3ET,EAAAX,EAAAY,cAAA,SAAOqC,UAAU,OACftC,EAAAX,EAAAY,cAACsD,EAAD,CAAU7G,MAAOc,KAAKa,MAAMU,IAAK2D,SAAUlF,KAAKqD,UAElDb,EAAAX,EAAAY,cAAA,OAAKqC,UAAU,WAAUtC,EAAAX,EAAAY,cAACuD,EAAD,CAAepF,UAAWZ,KAAKa,MAAMD,UAAW1B,MAAOc,KAAKa,MAAMC,QAASoE,SAAUlF,KAAKU,cACnH8B,EAAAX,EAAAY,cAAC0C,EAAA,EAAD,CAAQc,GAAG,aAAab,MAAM,aAA9B,MAEF5C,EAAAX,EAAAY,cAAA,cACED,EAAAX,EAAAY,cAAA,6BAAoBD,EAAAX,EAAAY,cAAA,KAAGqD,KAAK,iCAAR,iBAApB,yCAAmHtD,EAAAX,EAAAY,cAAA,8BAAnH,iBAAyJD,EAAAX,EAAAY,cAAA,KAAGqD,KAAK,4BAAR,6BAAzJ,KACAtD,EAAAX,EAAAY,cAACyD,EAAA,EAAD,CAASR,UAAU,MAAMC,OAAO,UAAUZ,OAAQ/E,KAAKa,MAAM0D,oBAC3D/B,EAAAX,EAAAY,cAACoD,EAAA,EAAD,KACErD,EAAAX,EAAAY,cAAC0D,EAAA,EAAD,KACE3D,EAAAX,EAAAY,cAAC2D,EAAA,EAAD,CAAOC,KAAK,OAAOC,KAAK,OAAOL,GAAG,OAAOM,YAAY,SACrD/D,EAAAX,EAAAY,cAAC2D,EAAA,EAAD,CAAOC,KAAK,QAAQC,KAAK,QAAQL,GAAG,QAAQM,YAAY,WACxD/D,EAAAX,EAAAY,cAAC2D,EAAA,EAAD,CAAOC,KAAK,WAAWC,KAAK,OAAOL,GAAG,cAAcM,YAAY,iBAChE/D,EAAAX,EAAAY,cAAC0C,EAAA,EAAD,CAAQqB,UAAQ,GAAhB,yBAKNhE,EAAAX,EAAAY,cAAA,8CAAqCD,EAAAX,EAAAY,cAAA,KAAGqD,KAAK,0CAA0CG,GAAG,WAArD,cAArC,0BACAzD,EAAAX,EAAAY,cAAA,oHAA2GD,EAAAX,EAAAY,cAAA,KAAGqD,KAAK,sFAAqFtD,EAAAX,EAAAY,cAAA,OAAKgE,IAAI,2GAA6EC,IAAI,uBAAuBC,MAAM,wBAA/T,IAA2VnE,EAAAX,EAAAY,cAAA,KAAGqD,KAAK,sFAAqFtD,EAAAX,EAAAY,cAAA,OAAKgE,IAAI,mHAAqFC,IAAI,qBAAqBC,MAAM,mCAzNtiBC,IAAMC,WAkOjC,SAAS5B,EAAUrF,GACjB,IAAMkH,EAAUC,MAAMC,MAAM,KAAM,CAAE/E,OAAQrC,EAAMoC,OAAS,GAAK,MAAON,IAAIuF,OAAO9G,KAAM8G,QAAQvF,IAAI,SAAAC,GAAO,MAAO,CAAEzC,MAAOyC,EAAI,EAAGxC,MAAOwC,EAAI,KAC7I,OAAQa,EAAAX,EAAAY,cAACyE,EAAA,EAAD,CACNpC,UAAU,MACVgC,QAASA,EACT5B,SAAUtF,EAAMsF,SAChBhG,MAAO4H,EAAQlH,EAAMV,MAAQ,GAC7BiI,aAAa,IAIjB,SAASpB,EAAUnG,GACjB,OAAQ4C,EAAAX,EAAAY,cAACyE,EAAA,EAAD,CACNpC,UAAU,MACVgC,QAAS7H,EACTiG,SAAUtF,EAAMsF,SAChBhG,MAAQD,EAAWgF,KAAK,SAAC3C,GAAD,OAAQA,EAAGpC,QAAUU,EAAMV,QACnDqH,YAAY,gBACZY,aAAa,QAIXC,mLACK,IAAAC,EAAArH,KACP,OAAQwC,EAAAX,EAAAY,cAACyE,EAAA,EAAD,CACNJ,QAAS9G,KAAKJ,MAAMgB,UACpBsE,SAAUlF,KAAKJ,MAAMsF,SACrBhG,MAAOc,KAAKJ,MAAMgB,UAAUqD,KAAK,SAAC3C,GAAD,OAAQA,EAAGpC,QAAUmI,EAAKzH,MAAMV,QACjEiI,aAAa,EACbZ,YAAY,6BAPUK,IAAMC,WAY5BS,mLAEK,IAAAC,EAAAvH,KACP,IAAKA,KAAKJ,MAAM+C,aACd,OAAO,KAGT,IAAI6E,EAAexH,KAAKJ,MAAM+C,aAAanB,MAAM,EAAGxB,KAAKJ,MAAM2F,WAAa,GAAG7D,IAAI,SAACjC,EAAGkC,GAAQ,MAAO,CAAE8F,EAAG9F,EAAG+F,EAAGjI,KAC3GkI,EAAW3H,KAAKJ,MAAM+C,aAAanB,MAAM,EAAGxB,KAAKJ,MAAM2F,YAAY3D,OAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,IAE1F8F,EAAe5H,KAAKJ,MAAM+C,aAAanB,MAAMxB,KAAKJ,MAAM2F,YACxDsC,EAAaD,EAAapG,MAAM,GAAGI,OAAO,SAACkG,EAAIC,GAA8C,OAAnCD,EAAGE,KAAKF,EAAGA,EAAG7F,OAAS,GAAK8F,GAAcD,GAAM,CAAEF,EAAa,KACzHK,EAAQJ,EAAWA,EAAW5F,OAAS,GACvCiG,EAAYN,EAAalG,IAAI,SAACjC,EAAGkC,GAAQ,MAAO,CAAE8F,EAAGF,EAAK3H,MAAM2F,WAAa5D,EAAG+F,EAAGjI,EAAG0I,EAAGN,EAAWlG,GAAKsG,KAEzGG,EAAQpI,KAAKJ,MAAM+C,aAAarD,KAAK+I,MAAMrI,KAAKJ,MAAMwC,OACvDpC,KAAKJ,MAAMwC,KAAO,GAClBpC,KAAKJ,MAAM+C,aAAarD,KAAKgJ,KAAKtI,KAAKJ,MAAMwC,OAASpC,KAAKJ,MAAM+C,aAAarD,KAAK+I,MAAMrI,KAAKJ,MAAMwC,QAEnGmG,EAAW,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAI7G,IAAI,SAAAC,GAAM,MAAO,CAAE8F,EAAGF,EAAK3H,MAAMwC,KAAMsF,EAAGU,EAAQzG,EAAE,MAE1I6G,EAAkBhG,EAAAX,EAAAY,cAACgG,EAAA,EAAD,CACdC,gBAAiBlG,EAAAX,EAAAY,cAACkG,EAAD,MACjBH,eAAgBhG,EAAAX,EAAAY,cAACmG,EAAA,EAAD,CAAcC,MAAO,CAAEC,SAAU,MACjDC,YAAa,CAACC,KAAM,WACxBC,EAAa,CAAEC,KAAM,CAAEC,OAAQ,QAASC,YAAa,EAAGJ,KAAM,SAElE,OACExG,EAAAX,EAAAY,cAAC4G,EAAA,EAAD,CACEC,UAAW,CAAE7B,EAAG,EAAGC,EAAG,GACtB6B,mBAEE/G,EAAAX,EAAAY,cAAC+G,EAAA,EAAD,CAEE1E,UAAU,QACV0D,eAAgBA,EAChBiB,OAAQ,SAACC,GACP,GAAIA,EAAEjC,EAAIF,EAAK3H,MAAM2F,WAAY,CAC/B,IAAMoE,EAAkB,IAARD,EAAEjC,EAAU,qCAAZ,iBAAAmC,OAAoEF,EAAEjC,GACtF,wBAAAmC,OAAyBD,EAAzB,cAAAC,OAA6CpK,EAAckK,EAAEhC,GAA7D,kDACK,OAAIgC,EAAEjC,IAAMF,EAAK3H,MAAM2F,WACrB,8BAAgCgC,EAAK3H,MAAM2F,WAAa,wBAA0B/F,EAAcmI,GAAa,mFAAqFnI,EAAc0I,EAAU,GAAGR,GAC3NgC,EAAEjC,IAAMF,EAAK3H,MAAMwC,KAC5B,2EAAAwH,OAAkFrC,EAAK3H,MAAM2F,WAA7F,OAAAqE,OAA6GxK,EAAUmI,EAAK3H,MAAMwC,MAAlI,UAEO,mDAAqDsH,EAAEjC,EAAI,GAAK,MAAQjI,EAAckK,EAAEvB,OAMvG3F,EAAAX,EAAAY,cAACoH,EAAA,EAAD,CACE1K,MAAM,MACN0J,MAAO,CAAEiB,KAAM,CAACV,YAAa,MAC/B5G,EAAAX,EAAAY,cAACoH,EAAA,EAAD,CACEE,eAAa,EACb5K,MAAM,mCAGN0J,MAAO,CAAEiB,KAAM,CAACX,OAAQ,YAAaC,YAAa,KAAMY,WAAY,CAAEhB,KAAM,WAE9ExG,EAAAX,EAAAY,cAACwH,EAAA,EAAD,CACEf,KAAM1B,EACNqB,MAAO,CAAEK,KAAM,CAAEC,OAAQ,WAAYC,YAAa,MAOpD5G,EAAAX,EAAAY,cAACyH,EAAA,EAAD,CACEhB,KAAMhB,EACNW,MAAOI,IAGTzG,EAAAX,EAAAY,cAACwH,EAAA,EAAD,CACEf,KAAM,CAAE,CAACzB,EAAGzH,KAAKJ,MAAM2F,WAAYmC,EAAG,GAAMQ,EAAU,IACtDW,MAAOI,IAGTzG,EAAAX,EAAAY,cAACwH,EAAA,EAAD,CACEf,KAAMX,EACNM,MAAO,CAAEK,KAAM,CAAEE,YAAa,EAAGD,OAAQ,MAAOH,KAAM,mBAlFhCpC,IAAMC,WA0FhCsD,mLACK,IAAAC,EACuBpK,KAAKJ,MAArB6H,GADP2C,EACAC,MADAD,EACO3C,GAAGC,EADV0C,EACU1C,EAGX4C,EAJCF,EACaG,OAGY,GAChC,OACE/H,EAAAX,EAAAY,cAAA,SACED,EAAAX,EAAAY,cAAA,QAAMgF,EAAGA,EAAI,GAAKC,EAAGA,EAAG8C,MAAM,IAAID,OAAQjL,KAAKmL,IAAI,EAAG,IAAM/C,GAAIsB,KAAK,UACrExG,EAAAX,EAAAY,cAAA,UAAQiI,GAAIjD,EAAGkD,GAAIjD,EAAGkD,EAAE,IAAI5B,KAAK,UACjCxG,EAAAX,EAAAY,cAAA,QAAMgF,EAAGA,EAAI+C,IAAS9C,EAAGA,EAAI,GAAK4C,EAAe,EAAGE,MAN1C,IAMwDD,OAAQD,EAAgBnB,OAAO,QAAQH,KAAK,kBAV7FpC,IAAMC,WAgBzBgE,cACJ,SAAAA,IAAc,IAAAC,EAAA,OAAAhL,OAAAC,EAAA,EAAAD,CAAAE,KAAA6K,IACZC,EAAAhL,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA+K,GAAA1K,KAAAH,QAIF+K,cAAgB,WACdD,EAAKnK,SAAS,CAAEqK,QAAS1L,KAAK+I,MAAMyC,EAAKjK,MAAMmK,QAAU,GAAK1L,KAAK2L,UAAY,MAJ/EH,EAAKjK,MAAQ,CAAEmK,QAAS1L,KAAK+I,MAAM,GAAK/I,KAAK2L,UAAY,IAF7CH,wEAUZ,OAAQtI,EAAAX,EAAAY,cAAA,OAAKqC,UAAU,UAAU4B,IAAI,uCAAuCC,MAAM,sBAAsBF,IAAK,UAAYzG,KAAKa,MAAMmK,QAAU,OAAQ3F,QAASrF,KAAK+K,uBAXlJnE,IAAMC,WCzYtBqE,EAAcC,QACW,cAA7BrI,OAAOC,SAASqI,UAEe,UAA7BtI,OAAOC,SAASqI,UAEhBtI,OAAOC,SAASqI,SAASC,MACvB,2DAsCN,SAASC,EAAgBC,EAAOC,GAC9BC,UAAUC,cACPC,SAASJ,GACTjL,KAAK,SAAAsL,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBjL,QACf4K,UAAUC,cAAcO,YAI1BvI,QAAQC,IACN,iHAKE6H,GAAUA,EAAOU,UACnBV,EAAOU,SAASN,KAMlBlI,QAAQC,IAAI,sCAGR6H,GAAUA,EAAOW,WACnBX,EAAOW,UAAUP,UAO5BQ,MAAM,SAAAC,GACL3I,QAAQ2I,MAAM,4CAA6CA,mBCzFjEC,IAASC,OAAO/J,EAAAX,EAAAY,cAAC+J,EAAD,MAAkBC,SAASC,eAAe,SDenD,SAAkBlB,GACvB,GAA6C,kBAAmBC,UAAW,CAGzE,GADkB,IAAIkB,IAAIC,gBAAwB9J,OAAOC,SAAS+C,MACpD+G,SAAW/J,OAAOC,SAAS8J,OAIvC,OAGF/J,OAAOgK,iBAAiB,OAAQ,WAC9B,IAAMvB,EAAK,GAAA3B,OAAMgD,gBAAN,sBAEP1B,GAgEV,SAAiCK,EAAOC,GAEtCnL,MAAMkL,GACHjL,KAAK,SAAAC,GAEJ,IAAMwM,EAAcxM,EAAS+C,QAAQC,IAAI,gBAEnB,MAApBhD,EAASyM,QACO,MAAfD,IAA8D,IAAvCA,EAAYE,QAAQ,cAG5CxB,UAAUC,cAAcwB,MAAM5M,KAAK,SAAAsL,GACjCA,EAAauB,aAAa7M,KAAK,WAC7BwC,OAAOC,SAASqK,aAKpB9B,EAAgBC,EAAOC,KAG1BY,MAAM,WACL1I,QAAQC,IACN,mEArFA0J,CAAwB9B,EAAOC,GAI/BC,UAAUC,cAAcwB,MAAM5M,KAAK,WACjCoD,QAAQC,IACN,gHAMJ2H,EAAgBC,EAAOC,MCtC/BE","file":"static/js/main.8057a4eb.chunk.js","sourcesContent":["import React from 'react';\n\nimport { Button, Form, Input, Modal, Popover, PopoverBody, PopoverHeader, UncontrolledPopover } from 'reactstrap';\n\nimport Select from 'react-select'\n\nimport { VictoryArea, VictoryAxis, VictoryChart, VictoryLabel, VictoryLine, VictoryTooltip, VictoryVoronoiContainer} from 'victory';\n\n// data:\n// great quality (full tables) but only 40 countries: https://www.mortality.org/\n// world bank csv, life expectancy at birth 1960-2016 as CSV: https://data.worldbank.org/indicator/sp.dyn.le00.in\n// gapminder, life expectancy at birth 1800-2016/8 as CSV (full country name): https://www.gapminder.org/data/\n// WHO life expectancy and life tables: http://apps.who.int/gho/data/node.main.686?lang=en\n//  * life expectancy (by region and sex only): http://apps.who.int/gho/data/view.main.SDG2016LEXREGv?lang=en\n//  * life tables (per country): http://apps.who.int/gho/data/node.main.LIFECOUNTRY?lang=en (get \"CSV - table\" file)\n// UN life expectancy at birth 1950-2100 (per gender): http://data.un.org/Search.aspx?q=life+expectancy\n// ourworldindata.org nice combination of UN above and Clio-Infra til 1949, but no gender: https://ourworldindata.org/grapher/life-expectancy (click 'data')\n// clio-infra (life expectancy at birth by gender and country but only ever 10ish years): https://clio-infra.eu/Indicators/FemalelifeExpectancyatBirth.html\n// under the assumption: http://www.lifeexpectancy.org/lifetable.shtml\n\nconst sexOptions = [ { value: 'F', label: 'female' }, { value: 'M', label: 'male' } ];\n\nfunction formatAge(age) {\n  return Math.round(10 * age) / 10;\n}\n\nfunction formatPercent(p) {\n  var resolution = 10;\n  if (p < .0001) {\n    return \"< 0.01%\";\n  } else if (p > .9999) {\n    return \"> 99.99%\";\n  } else if (p < .01 || p > .99) {\n    resolution = 100;\n  }\n  return Math.round(100 * resolution * p) / resolution + \"%\";\n}\n\n\nclass Expectations extends React.Component {\n  constructor(props) {\n    super(props);\n\n    var age = localStorage.getItem('age');\n    var sex = localStorage.getItem('sex');\n    var country = localStorage.getItem('country');\n\n    if (window.location.hash.length) {\n      const args = window.location.hash.substring(1).split('/');\n      if (args.length === 3) {\n        age = args[0];\n        sex = args[1];\n        country = args[2];\n      }\n    }\n\n    age = parseInt(age);\n\n    this.state = {\n      contactFormVisible: false,\n      tableCache: {},\n      age: isNaN(age) ? 25 : age,\n      sex: sex || 0,\n      country: country || 'world',\n      showModal: window.location.hash.length === 0,\n      // avoid errors on first render\n      mean: 0,\n      meanAtBirth: 0,\n      locationName: 'the world',\n      countries: []\n    };\n  }\n\n  componentWillMount = () => {\n    fetch(\"countries.json\").then((response) => {\n      if (response.ok) {\n        return response.json();\n      } else {\n        // failed to fetch countries information;\n        this.setCountry({ value: 'world' });\n      }\n    }).then((json) => {\n      this.setState({ countries: json });\n      this.setCountry({ value: this.state.country });\n    });\n  }\n\n  updateDistribution = (stateUpdate) => {\n    let updatedState = {...this.state, ...stateUpdate};\n    var countryData = updatedState.tableCache[updatedState.country];\n    const sexIndex = sexOptions.findIndex((el) => el.value === updatedState.sex) + 1 || 0;\n//    updatedState.sex = updatedState.sex ? sexOptions[updatedState] : '';\n    var ps = countryData[sexIndex].slice();\n    var meanAtBirth = formatAge(ps.map((p, i) => p * i).reduce((a, b) => a + b));\n\n    // find last non-zero death probability\n    ps.reverse();\n    const maxAge = ps.length - 1 - ps.findIndex(v => v > 0)\n    ps.reverse();\n\n    var totalremainingdensity = ps.slice(updatedState.age).reduce((a, b) => a + b);\n\n    if (totalremainingdensity == 0) {\n      // limit age to highest category of distribution\n      updatedState.age = maxAge;\n      totalremainingdensity = ps.slice(updatedState.age).reduce((a, b) => a + b);\n    }\n\n    // weighted mean of years still to be lived\n    var mean = ps.slice(updatedState.age).map((p, i) => p * (updatedState.age + i)).reduce((a, b) => a + b);\n    mean = mean / totalremainingdensity;\n\n    var impendingDeath = ps[updatedState.age];\n    // find upcoming number of years until probability of death exceeds 1% (ish)\n    for (var yearsToGo = 1; impendingDeath / totalremainingdensity < 0.008; yearsToGo++) {\n      impendingDeath += ps[updatedState.age + yearsToGo];\n    }\n    // normalise\n    impendingDeath = impendingDeath / totalremainingdensity;\n    var factlet = '';\n    if (yearsToGo === 1) {\n      factlet = <span>a <strong>{formatPercent(impendingDeath)}</strong> chance that you will die <strong>within the next year</strong>.</span>;\n    } else if (Math.abs(impendingDeath - 0.01) < .0025) {\n      factlet = <span>a 1 in 100 chance that you will already die <strong>within the next {yearsToGo} years</strong> of your life!</span>;\n    } else {\n      factlet = <span>a <strong>{formatPercent(impendingDeath)}</strong> chance that you will already die within the next {yearsToGo} years of your life!</span>;\n    }\n\n    var description = \"your demographic group\";\n    updatedState = {...updatedState, ...{\n      distribution: ps,\n      mean: mean,\n      meanAtBirth: meanAtBirth,\n      factlet: factlet,\n      maxAge: maxAge,\n      description: description,\n      killedOff: ps.slice(0, updatedState.age).reduce((a, b) => a + b, 0) / ps.reduce((a, b) => a + b)\n    }};\n\n    this.setState(updatedState);\n    window.location.hash = '#' + updatedState.age + '/' + (updatedState.sex || '') + '/' + updatedState.country;\n  }\n\n  setAge = (event) => {\n    var age = event.value;\n    this.updateDistribution({ 'age': age });\n    localStorage.setItem('age', age);\n  }\n\n  setSex = (event) => {\n    const sex = event ? event.value : '';\n    this.updateDistribution({ 'sex': sex });\n    localStorage.setItem('sex', sex);\n  }\n\n  setCountry = (event) => {\n    const country = event ? event.value : 'world';\n    if (!this.state.tableCache[country]) {\n      fetch('data/' + country + '.csv').then((response) => {\n        if (response.ok && response.headers.get('Content-Type').startsWith('text/csv')) {\n          return response.text();\n        } else {\n          console.log(\"Failed to fetch \" + country);\n          // TODO unset country\n        }\n      })\n      .then((string) => {\n        if (string) {\n          var ps = string.split(\"\\n\").map((string) => string.split(' ').map(parseFloat));\n          var cacheAddition = {};\n          cacheAddition[country] = ps;\n          this.updateDistribution({ country: country, tableCache: cacheAddition })\n        }\n      });\n    } else {\n      this.updateDistribution({ country: country });\n    }\n    const locationName = this.state.countries.find((el) => el.value === country);\n    this.setState({ locationName: locationName ? locationName.label : 'the world' });\n    localStorage.setItem('country', country);\n  }\n\n  hideModal = () => {\n    this.setState({ showModal: false });\n  }\n\n  toggleContactForm = (e) => {\n    if (e !== null) {\n      e.preventDefault();\n    }\n    this.setState({ contactFormVisible: ! this.state.contactFormVisible });\n  }\n\n  render() {\n    return (\n      <div>\n        <Modal className=\"firstvisit-dialog\" isOpen={this.state.showModal}>\n        <Skellie /><Skellie /><Skellie /><Skellie /><Skellie /><Skellie />\n          <h2>how old are you?</h2>\n          <AgeInput value={this.state.age} onChange={this.setAge} />\n          <p className=\"mobile\">NOTE: it looks like you are visiting this website on a touchscreen device. while the website is just as informative when viewed from a phone or tablet, you will find it a lot more entertaining to play with if you access it from a computer with a mouse or trackpad.</p>\n          <Button color=\"secondary\" onClick={this.hideModal}>I am prepared to look death in the eye</Button>\n        </Modal>\n        <div className=\"content\">\n          <header>\n            <Skellie /><Skellie /><Skellie /><Skellie /><Skellie /><Skellie />\n          </header>\n          <p>\n            <em>life expectancy</em> is a measure that is often used to capture the general health and wealth of a country or population group. but what does it mean for you as an individual that the average life expectancy in {this.state.locationName} today is <strong>{formatAge(this.state.meanAtBirth)}</strong> years?\n          </p>\n          <h2>all is not so bad!</h2>\n          <p>\n            while your average life expectancy at birth was {formatAge(this.state.meanAtBirth)}, by managing to stay alive until the age of {this.state.age} you have already proven that you are not part of the <strong>{formatPercent(this.state.killedOff)}</strong> of people who die before they even make it to that age. well done!</p>\n          <p>with the knowledge that you haven't died yet, we can re-calculate your individual life expectancy and find out that it is now actually higher than it was at your birth, namely <strong>{formatAge(this.state.mean)}</strong>&nbsp;years. what a treat.\n          </p>\n          <h2>all is not so good!</h2>\n          <p>\n            your new average life expectancy might sound pretty high to you, but there is of course no guarantee that you will live to exactly that age, or even anywhere near it. in reality, life is much more random, and so your own personal remaining life span will also be randomly drawn from a statistical distribution of which the average life expectancy is just a <em>very crude</em> measure.</p>\n          <p>in other words, while it might be another {formatAge(this.state.mean - this.state.age)} years until you reach your average life expectancy, there is also {this.state.factlet}</p>\n          <p>\n            to get an even better grasp of how much you should really be fearing for your life and when, please consult the interactive probability distribution below, which you can even further tailor to your own personal demographic circumstances. enjoy!\n          </p>\n          <ExpectationsGraph currentAge={this.state.age} distribution={this.state.distribution} mean={this.state.mean} />\n          <h3>adjust demographic features</h3>\n\n          <UncontrolledPopover trigger=\"focus\" placement=\"top\" target=\"infobutton\">\n            <PopoverHeader>\n              about the data\n            </PopoverHeader>\n            <PopoverBody>\n              <p>because the quality and resolution of mortality data varies from country to country, you might see some things in the distributions shown on this website which will not seem right to you. if there's weird abrupt jumps or unusually straight lines in the distributions, this is most likely due to the low quality of the underlying data: for many countries we only have data about the probability of death per 5 or even 15-year interval, so i've had to employ some (probability-preserving) smoothing to generate rough approximations of the probable underlying distributions.</p>\n              <p>the limitations on available countries and binary sex are also a result of the data gathering and coding by the <a href=\"https://www.who.int/gho/mortality_burden_disease/life_tables/life_tables/en/\">WHO</a>, who all of the data shown here eventually goes back to.</p>\n            </PopoverBody>\n          </UncontrolledPopover>\n          <div className=\"parameters\">\n            <AgeInput value={this.state.age} maxAge={this.state.maxAge} onChange={this.setAge} />\n            <label className=\"sex\">\n              <SexInput value={this.state.sex} onChange={this.setSex} />\n            </label>\n            <div className=\"country\"><CountrySelect countries={this.state.countries} value={this.state.country} onChange={this.setCountry} /></div>\n            <Button id=\"infobutton\" color=\"secondary\">?</Button>\n          </div>\n          <footer>\n            <p>built in 2019 by <a href=\"http://kevinstadler.github.io\">Kevin Stadler</a>, skellie drawings by baroque artiste <i>Daniela Carnevale</i>, data by the <a href=\"https://www.lifetable.de\">human life table database</a>.</p>\n            <Popover placement=\"top\" target=\"contact\" isOpen={this.state.contactFormVisible}>\n              <PopoverBody>\n                <Form>\n                  <Input type=\"text\" name=\"name\" id=\"name\" placeholder=\"name\" />\n                  <Input type=\"email\" name=\"email\" id=\"email\" placeholder=\"e-mail\" />\n                  <Input type=\"textarea\" name=\"text\" id=\"contacttext\" placeholder=\"your message\" />\n                  <Button disabled>under construction</Button>\n                </Form>\n              </PopoverBody>\n            </Popover>\n\n            <p>comments, questions, suggestions? <a href=\"https://kevinstadler.github.io/#contact\" id=\"contact\">contact me</a> before it's too late.</p>\n            <p>realized you can't possibly spend all of your accumulated fortune in this lifetime? send me your money: <a href=\"https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=2JE6FCBYY94LJ\"><img src=\"https://img.shields.io/badge/ðŸ’€%20%20ðŸ’€%20%20ðŸ’€-paypal%20($)-lightgray.svg\" alt=\"give me your dollars\" title=\"send me your money\" /></a> <a href=\"https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=WKKFFM6D7ZHEE\"><img src=\"https://img.shields.io/badge/ðŸ’€%20%20ðŸ’€%20%20ðŸ’€-paypal%20(%E2%82%AC)-lightgray.svg\" alt=\"give me your euros\" title=\"send me your money\" /></a></p></footer>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Expectations;\n\nfunction AgeInput (props) {\n  const options = Array.apply(null, { length: props.maxAge - 1 || 109 }).map(Number.call, Number).map(i => { return { value: i + 1, label: i + 1 }});\n  return (<Select\n    className=\"age\"\n    options={options}\n    onChange={props.onChange}\n    value={options[props.value - 1]}\n    isClearable={false}\n  />);\n}\n\nfunction SexInput (props) {\n  return (<Select\n    className=\"age\"\n    options={sexOptions}\n    onChange={props.onChange}\n    value={ sexOptions.find((el) => el.value === props.value) }\n    placeholder=\"Select sex...\"\n    isClearable={true}\n  />);\n}\n\nclass CountrySelect extends React.Component {\n  render() {\n    return (<Select\n      options={this.props.countries}\n      onChange={this.props.onChange}\n      value={this.props.countries.find((el) => el.value === this.props.value)}\n      isClearable={true}\n      placeholder=\"Select country...\"\n      />);\n  }\n}\n\nclass ExpectationsGraph extends React.Component {\n\n  render() {\n    if (!this.props.distribution) {\n      return null;\n    }\n\n    var survivedData = this.props.distribution.slice(0, this.props.currentAge + 1).map((p, i) => { return { x: i, y: p }});\n    const outlived = this.props.distribution.slice(0, this.props.currentAge).reduce((a, b) => a + b);\n\n    var remaningData = this.props.distribution.slice(this.props.currentAge);\n    var cumulative = remaningData.slice(1).reduce((cs, next) => { cs.push(cs[cs.length - 1] + next); return cs }, [ remaningData[0] ]);\n    var total = cumulative[cumulative.length - 1];\n    var deathData = remaningData.map((p, i) => { return { x: this.props.currentAge + i, y: p, c: cumulative[i] / total } });\n\n    var meanP = this.props.distribution[Math.floor(this.props.mean)] +\n      (this.props.mean % 1.0) *\n      (this.props.distribution[Math.ceil(this.props.mean)] - this.props.distribution[Math.floor(this.props.mean)]);\n    // generate lots of points along vertical line to improve voronoi\n    var meanData = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20].map(i => {return { x: this.props.mean, y: meanP * i/20 }});\n\n    var labelComponent = (<VictoryTooltip\n            flyoutComponent={<LineFlyout />}\n            labelComponent={<VictoryLabel style={{ fontSize: 11 }} />}\n            flyoutStyle={{fill: \"white\"}} />);\n    var deathStyle = { data: { stroke: \"black\", strokeWidth: 1, fill: \"#eee\" } };\n\n    return (\n      <VictoryChart\n        minDomain={{ x: 0, y: 0 }}\n        containerComponent={\n          // use Voronoi Container to enable tooltip on line chart\n          <VictoryVoronoiContainer\n//            style={{  overflow: 'visible' }}}\n            className=\"chart\"\n            labelComponent={labelComponent}\n            labels={(d) => {\n              if (d.x < this.props.currentAge) {\n                const ageDesc = d.x === 0 ? 'during the first year of your life' : `when you were ${d.x}`;\n                return(`you didn't die ${ageDesc},\\nunlike ${formatPercent(d.y)} of other people\\nfrom your cohort. well done!`);\n              } else if (d.x === this.props.currentAge) {\n                return(\"by surviving to the age of \" + this.props.currentAge + \", you have outlived\\n\" + formatPercent(outlived) +  \" of your cohort who are already dead.\\nprobability that you will die this year: \" + formatPercent(deathData[0].y));\n              } else if (d.x === this.props.mean) {\n                return(`average expected lifetime for somebody\\nwho has already survived to age ${this.props.currentAge}:\\n${formatAge(this.props.mean)} years`);\n              } else {\n                return(\"probability that you will\\ndie before you turn \" + (d.x + 1) + \":\\n\" + formatPercent(d.c));\n              }\n            }}\n//            voronoiDimension=\"x\"\n            />\n        }>\n        <VictoryAxis\n          label=\"age\"\n          style={{ axis: {strokeWidth: 0} }} />\n        <VictoryAxis\n          dependentAxis\n          label=\"probability of dying at that age\"\n//          offsetX={50}\n// TODO fix opacity\n          style={{ axis: {stroke: \"lightgray\", strokeWidth: 1.5}, tickLabels: { fill: \"none\" } }} />\n\n        <VictoryLine\n          data={survivedData}\n          style={{ data: { stroke: \"darkgray\", strokeWidth: 1 } }}\n//          labelComponent={<VictoryTooltip\n//            dy={(datum) => datum.y+10 }\n//            flyoutComponent={<LineFlyout />}\n//            style={{ fontSize: 11 }} />} // TODO set position\n          />\n\n        <VictoryArea\n          data={deathData}\n          style={deathStyle}\n          />\n\n        <VictoryLine\n          data={[ {x: this.props.currentAge, y: 0 } , deathData[0]]}\n          style={deathStyle}\n          />\n\n        <VictoryLine\n          data={meanData}\n          style={{ data: { strokeWidth: 1, stroke: \"red\", fill: \"#eee\" } }}\n//          labelComponent={<VictoryTooltip style={{ fontSize: 11 }} />} // TODO set position\n          />\n      </VictoryChart>\n      );\n  }\n}\n\nclass LineFlyout extends React.Component {\n  render() {\n    const {datum, x, y, height} = this.props;\n    // model after https://github.com/FormidableLabs/victory/blob/master/packages/victory-tooltip/src/flyout.js#L27\n    const width = 240;\n    const adjustedHeight = height - 15;\n    return (\n      <g>\n        <rect x={x - 0.5} y={y} width=\"1\" height={Math.max(0, 250 - y)} fill=\"black\" />\n        <circle cx={x} cy={y} r=\"2\" fill=\"black\"/>\n        <rect x={x - width/2} y={y - 41 - adjustedHeight/2} width={width} height={adjustedHeight} stroke=\"black\" fill=\"white\" />\n      </g>\n    );\n  }\n}\n\nclass Skellie extends React.Component {\n  constructor() {\n    super();\n    this.state = { skellie: Math.floor(20 * Math.random()) % 20 };\n  }\n\n  changeSkellie = () => {\n    this.setState({ skellie: Math.floor(this.state.skellie + 19 * Math.random()) % 20 })\n  }\n\n  render() {\n    return (<img className=\"skellie\" alt=\"a graphic reminder of your mortality\" title=\"what do you expect?\" src={\"skellie\" + this.state.skellie + \".png\"} onClick={this.changeSkellie} />);\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Expectations from './Expectations';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\n\nReactDOM.render(<Expectations />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}